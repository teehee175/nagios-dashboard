# Nagios Dashboard - Apache (httpd) Configuration
# Copy this file to /etc/httpd/conf.d/nagios-dashboard.conf
# Then run: httpd -t && systemctl reload httpd
#
# Serves dashboard at /nagios/warboard on port 80 (same as Nagios)

# Dashboard served at /nagios/warboard
Alias /nagios/warboard /var/www/nagios-dashboard/dist

<Directory /var/www/nagios-dashboard/dist>
    Options -Indexes +FollowSymLinks
    AllowOverride None
    Require all granted

    # SPA routing - rewrite all requests to index.html
    RewriteEngine On
    RewriteBase /nagios/warboard
    RewriteRule ^index\.html$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /nagios/warboard/index.html [L]
</Directory>

# Cache static assets
<LocationMatch "^/nagios/warboard/.*\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$">
    Header set Cache-Control "public, max-age=604800, immutable"
</LocationMatch>

# Logging (optional - can comment out if not needed)
# ErrorLog /var/log/httpd/nagios-dashboard-error.log
# CustomLog /var/log/httpd/nagios-dashboard-access.log combined
